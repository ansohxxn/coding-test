#include <string>
#include <vector>
#include <algorithm>

using namespace std;

int solution(int m, int n, vector<vector<int>> puddles) {
	int answer = 0;

	// [n + 2][m + 2] í¬ê¸°ë¡œ ì„ ì–¸
	vector<vector<int>> dp(n + 1, vector<int>(m + 1, 0));
	sort(puddles.begin(), puddles.end());

	// ê°ˆ ìˆ˜ ì—†ëŠ” í…Œë‘ë¦¬ ì˜ì—­ì€ -1 ë¡œ ë‘ë¥´ì. ë¯¸ë¦¬ dpì— ì²´í¬
	for (int i = 0; i < n + 1; i++)
	{
		if (i == 0)
		{
			for (int j = 0; j < m + 1; j++)
				dp[i][j] = -1;
		}
		else
			dp[i][0] = -1;
	}

	// ë¬¼ ì›…ë©ì´ ìˆëŠ” ê³³ì€ -1 ìœ¼ë¡œ ë¯¸ë¦¬ dpì— ì²´í¬ 
	for (int i = 0; i < puddles.size(); i++)
        dp[puddles[i][1]][puddles[i][0]] = -1;
		

	// dp ì±„ì›Œë‚˜ê°€ê¸° 
	for (int i = 1; i <= n; i++)
	{
		for (int j = 1; j <= m; j++)
		{
			if (dp[i][j] == -1)
				continue;

			// 1 í–‰ 1 ì—´(ì§‘)ê¹Œì§€ì˜ ê²½ë¡œ ê°’ì€ 1 ë¡œ í•œë‹¤. (0 ìœ¼ë¡œ í•˜ë©´ ì•„ë˜ ê³¼ì •ìƒ ê³„ì† 0 ìœ¼ë¡œë§Œ ì—…ë°ì´íŠ¸ ëœë‹¤.)
			else if (i == 1 && j == 1)
				dp[i][j] = 1;

			// í˜„ì¬ ì¢Œí‘œ ê¸°ì¤€ ì™¼ìª½, ìœ„ìª½ ëª¨ë‘ì—ì„œ ì˜¬ ìˆ˜ ì—†ëŠ” ê²½ìš° ğŸ‘‰ ë°”ë¡œ ìœ„,ì™¼ìª½ ëª¨ë‘ì— ë¬¼ ì›…ë©ì´ê°€ ìˆê±°ë‚˜(-1), ë°”ë¡œ ìœ„, ì™¼ìª½ ì¢Œí‘œê¹Œì§€ ì˜¬ìˆ˜ ìˆëŠ” ê²½ë¡œê°€ ëª¨ë‘ 0 ì´ê±°ë‚˜(0) 
			else if (dp[i - 1][j] <= 0 && dp[i][j - 1] <= 0)
				dp[i][j] = 0;

			// í˜„ì¬ ì¢Œí‘œ ê¸°ì¤€ ìœ„ìª½ì—ì„œë§Œ ì˜¬ ìˆ˜ ì—†ëŠ” ê²½ìš° ğŸ‘‰ 1í–‰ì´ê±°ë‚˜, ë°”ë¡œ ìœ„ì— ë¬¼ ì›…ë©ì´ê°€ ìˆê±°ë‚˜(-1), ë°”ë¡œ ìœ„ ì¢Œí‘œê¹Œì§€ ì˜¬ìˆ˜ ìˆëŠ” ê²½ë¡œê°€ 0 ì´ê±°ë‚˜(0) 
			else if (dp[i - 1][j] <= 0)
				dp[i][j] = dp[i][j - 1];

			// í˜„ì¬ ì¢Œí‘œ ê¸°ì¤€ ì™¼ìª½ì—ì„œë§Œ ì˜¬ ìˆ˜ ì—†ëŠ” ê²½ìš° ğŸ‘‰ 1ì—´ì´ê±°ë‚˜, ë°”ë¡œ ì™¼ìª½ì— ë¬¼ ì›…ë©ì´ê°€ ìˆê±°ë‚˜(-1), ë°”ë¡œ ì™¼ìª½ ì¢Œí‘œê¹Œì§€ ì˜¬ìˆ˜ ìˆëŠ” ê²½ë¡œê°€ 0 ì´ê±°ë‚˜(0) 
			else if (dp[i][j - 1] <= 0)
				dp[i][j] = dp[i - 1][j];

			// í˜„ì¬ ì¢Œí‘œ ê¸°ì¤€ ì™¼ìª½, ìœ„ìª½ ì´ë ‡ê²Œ 2ê°€ì§€ ê²½ìš° ëª¨ë‘ì—ì„œ ì˜¬ ìˆ˜ ìˆëŠ” ê²½ìš° 
			else
				dp[i][j] = (dp[i - 1][j] + dp[i][j - 1]) % 1000000007;
		}
	}

	answer = dp[n][m];
	return answer;
}